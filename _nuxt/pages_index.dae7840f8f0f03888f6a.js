webpackJsonp([2],{"/TYz":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("ipN9"),s=e("Pmg7"),i=!1;var r=function(t){i||e("RFpc")},o=e("VU/8")(n.a,s.a,!1,r,"data-v-1b011d9c",null);o.options.__file="pages\\index.vue",a.default=o.exports},"0lJO":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"column  is-half"},[e("div",{staticClass:"box album-box"},[e("div",[e("div",{staticClass:"image album-image"},[e("img",{attrs:{src:t.album.images[1].url}})]),e("div",{staticClass:"album-play"},[e("button",{staticClass:"button is-primary is-outlined",on:{click:function(a){t.$store.dispatch("spotify/index/PLAY",t.album)}}},[t._v("\n          Play!\n        ")])])]),e("div",{staticClass:"album-content"},[e("a",{attrs:{href:t.album.external_urls.spotify,target:"_blank"}},[e("div",[t._v(t._s(t.album.name))])]),e("div",[t._v(t._s(t.album.artists[0].name))]),e("Intersect",{on:{enter:function(a){t.floatShow=!0},leave:function(a){t.floatShow=!1}}},[e("div",[e("transition",{attrs:{name:"popup"}},[t.floatShow?e("div",{staticClass:"popup"},[t._l(t.album.genres,function(a){return e("div",{key:a,staticClass:"tag is-info"},[e("nuxt-link",{staticClass:"tag_link",attrs:{to:{path:"/genre",query:{q:a}}}},[t._v("\n                  "+t._s(a)+"\n                ")])],1)}),e("div",[t._v("\n                人気: "+t._s(t.album.popularity)+"\n              ")])],2):t._e()])],1)])],1)])])};n._withStripped=!0;var s={render:n,staticRenderFns:[]};a.a=s},Pmg7:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container container-padding"},[t._m(0),e("div",{staticClass:"content-wrapper"},[e("div",{staticClass:"columns is-multiline"},t._l(t.albums,function(t){return e("Album",{key:t.id,attrs:{album:t}})}))]),t.token?t._e():e("div",{staticClass:"section"},[t._m(1),e("button",{staticClass:"button",on:{click:function(a){t.$store.dispatch("auth/GET_LOGIN_PAGE")}}},[t._v("\n      login\n    ")])]),t.hasNext?e("div",[e("Intersect",{on:{enter:t.loadData}},[e("button",{staticClass:"button is-fullwidth",on:{click:t.loadData}},[t._v("\n        load\n      ")])])],1):t._e()])};n._withStripped=!0;var s={render:n,staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"content-wrapper"},[a("h1",{staticClass:"title"},[this._v("New Release")]),a("h2",{staticClass:"subtitle"},[this._v("Albums on Spotify")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",[this._v("\n      Spotify APIを使ってアルバム情報を取得します。"),a("br"),this._v("\n      また、アクティブな端末で再生することができます。\n    ")])}]};a.a=s},RFpc:function(t,a,e){var n=e("Wuab");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e("rjj0")("db6803b6",n,!1,{sourceMap:!1})},SN4A:function(t,a,e){(t.exports=e("FZ+f")(!1)).push([t.i,".album-box[data-v-6a9e1078]{margin:auto;display:flex}.album-content[data-v-6a9e1078]{margin-left:1rem;flex:1}.tag[data-v-6a9e1078]{margin-right:5px;margin-bottom:5px}.popup[data-v-6a9e1078]{z-index:10;background:#eee;margin-top:1rem;padding:16px;border-radius:5px}.popup-enter-active[data-v-6a9e1078]{transition:all 1s ease-out}.popup-enter[data-v-6a9e1078]{transform:translateY(100px)}.tag_link[data-v-6a9e1078]{color:#fff}.album-image[data-v-6a9e1078]{max-width:128px;width:30vw}.album-play[data-v-6a9e1078]{margin-top:.75rem;display:flex;justify-content:center}",""])},Wuab:function(t,a,e){(t.exports=e("FZ+f")(!1)).push([t.i,"",""])},Y3Hb:function(t,a,e){"use strict";var n=e("xWHV"),s=e("0lJO"),i=!1;var r=function(t){i||e("jnEo")},o=e("VU/8")(n.a,s.a,!1,r,"data-v-6a9e1078",null);o.options.__file="components\\Molucules\\Album.vue",a.a=o.exports},ipN9:function(t,a,e){"use strict";var n=e("Xxa5"),s=e.n(n),i=e("exGp"),r=e.n(i),o=e("Dd8w"),u=e.n(o),l=e("NYxO"),c=e("Y3Hb");a.a={name:"Index",components:{Album:c.a},computed:u()({token:function(){return this.$store.state.auth.token},hasNext:function(){return this.token&&this.$store.state.spotify.index.next}},Object(l.mapGetters)("spotify/index",{albums:"getAlbumOnly"})),created:function(){var t=r()(s.a.mark(function t(){var a,e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$store.commit("spotify/index/RESET_DATA"),this.token?this.$store.commit("auth/SET_TOKEN",this.token):(a=document.cookie.match(/token=(.*)(;.*|)/),(e=a&&a.length>=2?a[1]:null)&&this.$store.commit("auth/SET_TOKEN",e)),!this.token){t.next=6;break}return t.next=5,this.$store.dispatch("spotify/index/getNewReleases");case 5:this.$store.dispatch("spotify/index/getAlbumDetails");case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{loadData:function(){var t=r()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("spotify/index/getNewReleases");case 2:this.$store.dispatch("spotify/index/getAlbumDetails");case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}}},jnEo:function(t,a,e){var n=e("SN4A");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e("rjj0")("7f49a4d1",n,!1,{sourceMap:!1})},xWHV:function(t,a,e){"use strict";a.a={name:"Album",props:{album:{type:Object,required:!0}},data:function(){return{floatShow:!1}}}}});